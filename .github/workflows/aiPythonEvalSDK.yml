name: "AI Agent Python Evaluation SDK"

on:
  workflow_dispatch:
env:
  # Setting an environment variable with the value of a configuration variable
  AZURE_API_VERSION: ${{ vars.AZURE_API_VERSION }}
  AZURE_DEPLOYMENT_NAME: ${{ vars.AZURE_DEPLOYMENT_NAME }}
  AZURE_ENDPOINT: ${{ vars.AZURE_ENDPOINT }}
  AZURE_AI_PROJECT: ${{ vars.AZURE_AI_PROJECT }}
  AZURE_API_KEY: ${{ secrets.AZURE_API_KEY }}

permissions:
  id-token: write
  contents: read

jobs:
  run-action:
    runs-on: ubuntu-latest
    steps:
          - uses: actions/checkout@v5
          - name: Set up Python
            # This is the version of the action for setting up Python, not the Python version.
            uses: actions/setup-python@v5
            with:
              # Semantic version range syntax or exact version of a Python version
              python-version: '3.13'
          # You can test your matrix by printing the current Python version
          - name: Display Python version
            run: pip install -r requirements.txt
            
          - name: Execute Python script
            run: python aiCloudEvaluatorAIEvaluationSDK.py
